---
import LinkButton from './LinkButton.astro';
---

<header>
  <nav>
    <div class='mx-auto px-4 lg:max-w-7xl py-6  '>
      <div class='flex justify-between'>
        <div class='flex items-center space-x-7'>
          <div>
            <a href='/#' class='flex items-center'>
              <img
                src='/images/logo_cropped_transparent.svg'
                alt='Logo'
                class='w-[125px] lg:w-[165px]'
              />
            </a>
          </div>
          <!-- Primary Navbar items -->
          <ul class='flex gap-4 lg:gap-6'>
            <li>
              <a
                href='#features'
                class='hidden rounded-md p-2 font-medium text-stone-700 transition md:flex lg:hover:bg-stone-100 lg:hover:text-black'
                >Features</a
              >
            </li>
            <li>
              <a
                href='#faq'
                class='hidden rounded-md p-2 font-medium text-stone-700 transition md:flex lg:hover:bg-stone-100 lg:hover:text-black'
                >FAQ</a
              >
            </li>
          </ul>
        </div>
        <!-- Secondary Navbar items -->
        <div class='hidden items-center space-x-3 md:flex'>
          <LinkButton
            href='https://portal.jobstrackr.app'
            label='Log in'
            type='primary'
            customClasses='ml-auto'
          />
        </div>
        <!-- Mobile menu button -->
        <div class='flex items-center md:hidden'>
          <button class='mobile-menu-button outline-none'>
            <svg
              class='h-7 w-7'
              x-show='!showMenu'
              fill='none'
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              viewBox='0 0 24 24'
              stroke='currentColor'
            >
              <path d='M4 6h16M4 12h16M4 18h16'></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- mobile menu -->
    <div class='mobile-menu  absolute transform -translate-y-[500px] scale-0 transition duration-300 du  left-0 right-0 w-[92%] p-6 shadow-black/30 shadow-xl rounded-xl mx-auto bg-white'>
      <ul>
        <li>
          <a href='#features' class='text-xl text-black font-medium block py-4'>Features</a>
        </li>
        <li>
          <a href='#faq' class='text-xl text-black font-medium block py-4'>FAQ</a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<script>
  const body = document.body;
  const btn = document.querySelector('button.mobile-menu-button');
  const menu = document.querySelector('.mobile-menu');
  const menuItem = document.querySelector('.mobile-menu li a');

  const elems = body && btn && menu && menuItem;

  if (elems) {
    btn.addEventListener('click', () => {
      menu.classList.toggle('-translate-y-[500px]')
      menu.classList.toggle('scale-0')
      menu.classList.remove('hidden')
      body.classList.toggle('bg-gray-300')
    });

    menuItem?.addEventListener('click', () => {
      menu.classList.toggle('-translate-y-[500px]')
      menu.classList.toggle('scale-0')
      body.classList.remove('bg-gray-300')
    });

    window.addEventListener('resize', () => {
      const width = window.innerWidth;
      let count = 0;
      if (width >= 768 && count < 1) {
        menu.classList.toggle('-translate-y-[500px]')
        menu.classList.toggle('scale-0')
        menu.classList.add('hidden')
        body.classList.remove('bg-gray-300')
        count++;
      }
    });
  }
</script>
